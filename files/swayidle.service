[Unit]
Description=Lock screen after 10 min idle and sleep after 15 min idle
Documentation=man:swayidle(1) man:swaylock(1)
PartOf=graphical-session.target

[Service]
ExecStart=swayidle -w \
    timeout 600 'swaylock -f' \
    timeout 900 'swaymsg "output * dpms off"' \
       resume 'swaymsg "output * dpms on"' \
    before-sleep 'swaylock -f'
Restart=on-failure
RestartSec=1
TimeoutStopSec=10

[Install]
WantedBy=sway-session.target
