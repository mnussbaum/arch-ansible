{% set bar_opacity = '0.7' -%}
{% set scheme_vars = base16_waybar['schemes'][base16_scheme]['scheme-variables'] -%}
{{ base16_waybar['schemes'][base16_scheme]['waybar']['colors']['base16-'+base16_scheme+'.css'] }}

* {
  border: none;
  border-radius: 0;
  margin: 0px 0px 0px 0px;

  background: transparent;
  color: white;

  font-family: FuraMono Nerd Font Mono, Helvetica, Arial, sans-serif;
  font-size: 30px;
  font-weight: bold;
}

window#waybar {
  /* base01 */
  background: rgba({{ scheme_vars['base01-rgb-r'] }}, {{ scheme_vars['base01-rgb-g'] }}, {{ scheme_vars['base01-rgb-b'] }}, {{ bar_opacity }});

  color: @base04;
}

#workspaces button {
  /* base01 */
  background: rgba({{ scheme_vars['base01-rgb-r'] }}, {{ scheme_vars['base01-rgb-g'] }}, {{ scheme_vars['base01-rgb-b'] }}, {{ bar_opacity }});

  padding: 0 15px;
  color: @base04;
  border-bottom: 3px solid transparent;
}

#workspaces button:hover {
  box-shadow: inherit;
  text-shadow: inherit;
}

#workspaces button.focused {
  /* base01 */
  background: rgba({{ scheme_vars['base01-rgb-r'] }}, {{ scheme_vars['base01-rgb-g'] }}, {{ scheme_vars['base01-rgb-b'] }}, {{ bar_opacity }});
  border-bottom: 3px solid @base09;
}

@keyframes critical-blink {
  to {
    color: @base08;
  }
}

#battery.warning:not(.charging) {
  animation-name: critical-blink;
  animation-duration: 2.5s;
  animation-timing-function: ease-in-out;
  animation-iteration-count: infinite;
  animation-direction: alternate;
}

#battery.critical:not(.charging) {
  animation-name: critical-blink;
  animation-duration: 1s;
  animation-timing-function: ease-in-out;
  animation-iteration-count: infinite;
  animation-direction: alternate;
}

{% for scheme_var, scheme_value in scheme_vars.items() %}
{% if scheme_var is match("^.+-hex$") %}
{% set base_name = scheme_var.replace("-hex", "") %}
.background-{{ base_name }} {
  background-color: #{{ scheme_value }};
}

.foreground-{{ base_name }} {
  color: #{{ scheme_value }};
}
{% endif %}
{% endfor %}
